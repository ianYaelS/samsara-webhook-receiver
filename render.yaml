# --------------------------------------------------------------------------
# render.yaml (Corregido para UN solo servicio)
#
# Define un único "Web Service" usando Docker.
# Esta NO es la sintaxis de "blueprint" (que usa 'services:'),
# lo que evita el error 'autoSuspend not found'.
# --------------------------------------------------------------------------

type: web        # Tipo de servicio: Web Service
name: samsara-app  # Nombre de tu aplicación
env: docker      # Entorno: Docker
plan: free       # Plan: Gratuito
region: oregon   # Región

# Desactiva la suspensión automática en el plan gratuito
autoSuspend: false

# Ruta para que Render verifique que tu app está viva
healthCheckPath: /healthz

# Variables de entorno
envVars:
  - key: PYTHON_VERSION
    value: "3.10.13"
  # Nota: No necesitamos DATABASE_URL aquí,
  # ya que usaremos un archivo SQLite local.

# El 'startCommand' se define dentro del Dockerfile (CMD).
# No es necesario aquí.
